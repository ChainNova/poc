define(["angular","./ngRoute"],function(t){t.module("ngPushState",[]).run(["$route","$rootScope","$location","$timeout",function(t,e,o,n){o.pushState=function(n,r){var u=t.current,a=u.$$route,c=e.$on("$locationChangeSuccess",function(){var o=t.current,n=o.$$route;n.keys.length&&u&&a.controller==n.controller&&a.templateUrl==n.templateUrl&&(t.current=u,e.$broadcast("$routeUpdate",o)),c()});o.path(n),r||o.replace()}}])});