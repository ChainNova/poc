define(["common/module","common/moment","lib/coin"],function(r,n,e){var t,c;return c=[void 0,null,""],t=angular.element,r.directive("ngdSetLang",[function(){return{scope:!0,link:function(r,n,e){var t,c;return t=locales.get(),c=e.ngdSetLang,t===c&&n.addClass("curLang").find("input").attr("checked",!0),n.on("click",function(){var r;return r=n.parent(),c===locales.get()||!r.attr("disabled")&&(r.attr("disabled",!0),locales.set(c),location.reload())})}}}]).directive("ngdAmount",function(){return{require:"?ngModel",restrict:"A",link:function(r,n,t,c){return r.$watch(t.ngdAmount,function(r){return e.prettyAmount(r,t,n)})}}}).directive("ngdFillTrader",["fastServ","$rootScope","$parse",function(r,n,e){var c;return c="focus",{restrict:"A",link:function(u,a,o,i){var s;return s=r.trader(),a.addClass("fuc4"),a.on("click",function(){var r,i;return i=t("#"+c),i.length&&i.removeAttr("id"),a.attr("id",c),r=e(o.ngdFillTrader)(u),n.$broadcast("fill-trader",r)})}}}]).directive("ngdExchagneRate",["$compile",function(r){return{scope:{pair:"=ngdExchagneRate",reverse:"@ngdExchangeRateReverse"},link:function(n,t,c){var u,a;return t.on("click",function(r){if(r.stopPropagation(),angular.element(r.target).hasClass("iF"))return u(!0)}),a="",(u=function(c,u){var o,i,s,l,d;if(i=(null!=(s=n.pair)?s.data:void 0)||n.pair)return c&&!u&&(n.reverse=!n.reverse),d={},l={},d=i.isBuyAll?{currency:i.srcCurrency,amount:i.srcCount}:{currency:i.desCurrency,amount:i.desCount},l=i.isBuyAll?{currency:i.desCurrency,amount:i.desCount}:{currency:i.srcCurrency,amount:i.srcCount},o={sellCurrency:l.currency,buyCurrency:d.currency,price:i.price||new BN(l.amount).div(d.amount).toString()},i.lCurrency=o.sellCurrency,i.lAmount=n.reverse?o.price:1,i.lAmountTxt=n.reverse?e.prettyAmount(i.lAmount,{currency:i.lCurrency}):1,i.rCurrency=o.buyCurrency,i.rAmount=n.reverse?1:new BN(1).div(o.price).toString(),i.rAmountTxt=n.reverse?1:e.prettyAmount(i.rAmount,{currency:i.rCurrency}),a=['<span class="expair">','<span class="amount">'+i.lAmountTxt+"</span>",'<span class="currency">'+i.lCurrency+"</span>",'<i class="iF" style="cursor:pointer;" ng-class="[reverse?\'iF-arrowL3\':\'iF-arrowR3\']"></i>','<span class="amount">'+i.rAmountTxt+"</span>",'<span class="currency">'+i.rCurrency+"</span>","</span>"].join(""),t.html(r(a)(n))})(n.reverse,!0)}}}])});